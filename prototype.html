<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ë¹¨ë¦¬ ì¹œí•´ì ¸ì¡°</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Jua&display=swap");

      .card-body2 {
        height: 500px;
        overflow-y: scroll;
        margin-bottom: 100px;
      }

      .main {
        padding: 20px 70px 40px 70px;
        margin: 40px;
      }

      body {
      }

      .title {
        width: 500px;
        height: 110px;

        font-family: "Jua", sans-serif;
        color: white;
        background-color: rgba(221, 170, 221, 0.973);
        text-align: center;
        border-radius: 10px;

        padding: 30px 0px 30px 0px;
        margin: 50px auto 0px auto;
      }

      .img {
        float: left;
        max-width: auto;
        /* ì´ë¯¸ì§€ì˜ ìµœëŒ€ì‚¬ì´ì¦ˆ */
        width: auto;
        height: auto;
        vertical-align: bottom;
        margin-right: 5%;
      }

      .teamname {
        width: 300px;
        font-family: "Jua", sans-serif;
      }

      .simoo {
        color: rgb(119, 224, 189);
      }

      .blog {
        width: 200px;
        font-family: "Jua", sans-serif;
        border-radius: 5px;
        margin-left: 10%;
        margin-top: 50px;
      }

      .rules {
        color: rgb(119, 224, 189);
        padding-top: 40px;
      }

      .out {
        text-indent: 7%;
      }

      .mycards {
        max-width: 100%;
        /* ì´ë¯¸ì§€ì˜ ìµœëŒ€ì‚¬ì´ì¦ˆ */
        width: auto;
        height: auto;
        width: 1800px;

        width: 1400px;
        align-content: center;
        margin: 100px auto 0px auto;
      }

      .myprofilbox_1 {
        width: 1080px;
        height: 606px;

        align-content: center;
        margin: 100px auto 0px auto;
        border-radius: 10px;
        border-style: solid;
        border-color: green;

        background-image: url(https://github.com/leegilhyeon/miniproject/blob/main/%EC%9D%B4%EA%B8%B8%ED%98%84%20%EC%83%81%EC%84%B8%EC%86%8C%EA%B0%9C.png?raw=true);
      }

      .myprofilbox_2 {
        width: 1080px;
        height: 606px;

        align-content: center;
        margin: 100px auto 0px auto;
        border-radius: 10px;
        border-style: solid;
        border-color: red;
        background-image: url(https://github.com/leegilhyeon/miniproject/blob/main/%EB%B0%95%EC%8A%B9%EC%97%BD%20%EC%83%81%EC%84%B8%EC%86%8C%EA%B0%9C.png?raw=true);
      }

      .myprofilbox_3 {
        width: 1080px;
        height: 606px;

        margin: 100px auto 0px auto;
        border-radius: 10px;
        border-style: solid;
        border-color: blue;
        background-image: url(https://github.com/leegilhyeon/miniproject/blob/main/%EC%A1%B0%EA%B7%9C%EB%AF%BC%20%EC%83%81%EC%84%B8%EC%86%8C%EA%B0%9C.png?raw=true);
      }

      .myprofilbox_4 {
        width: 1080px;
        height: 606px;

        align-content: center;
        margin: 100px auto 0px auto;
        border-radius: 10px;
        border-style: solid;
        border-color: yellow;
        background-image: url(https://github.com/leegilhyeon/miniproject/blob/main/%EC%9D%B4%ED%98%84%EC%9A%B0%20%EC%83%81%EC%84%B8%EC%86%8C%EA%B0%9C.png?raw=true);
      }

      .myprofilbox_5 {
        width: 1080px;
        height: 606px;

        align-content: center;
        margin: 100px auto 0px auto;
        border-radius: 10px;
        border-style: solid;
        border-color: black;
        background-image: url(https://github.com/leegilhyeon/miniproject/blob/main/%ED%99%A9%EB%82%A8%EC%9B%85%20%EC%83%81%EC%84%B8%EC%86%8C%EA%B0%9C.png?raw=true);
      }

      .myprofilbox_1 > img {
        width: 300px;
        height: 200px;
        margin: 0 0 200px 50px;
      }

      .myprofilbox_2 > img {
        width: 300px;
        height: 200px;
        margin: 0 0 200px 50px;
      }

      .myprofilbox_3 > img {
        width: 300px;
        height: 200px;
        margin: 0 0 200px 50px;
      }

      .myprofilbox_4 > img {
        width: 300px;
        height: 200px;
        margin: 0 0 200px 50px;
      }

      .myprofilbox_5 > img {
        width: 300px;
        height: 200px;
        margin: 0 0 200px 50px;
      }

      .profil {
        display: flex;
      }

      .proclose {
        width: 100px;
        border-radius: 5px;
        bottom: 15px;
      }

      .content {
        display: flex;
        justify-content: space-between;
        width: 65%;
        margin: 2% 0 0 15%;
      }

      .mytitle {
        width: 30%;
        height: 80px;
        margin: 80px auto 10px auto;

        background-image: linear-gradient(35deg, #ccffff, #ffcccc);

        background-position: center;
        background-size: cover;

        color: white;

        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .namebox {
        width: 40%;
        margin: 0 auto;
      }

      .tmibox {
        width: 1100px;
        background-color: rgb(247, 245, 222);
        margin: 0px auto 0px auto;
      }

      .anchor {
        position: sticky;
        float: right;
        border-radius: 5px;
        top: 200px;
        font-family: "Jua", sans-serif;
      }

      html {
        scroll-behavior: smooth;
      }

      .whtpaper {
        position: absolute;
        width: 100%;
        background-color: white;
        padding: 20px;
      }

      .yelpaper {
        background-color: rgb(247, 245, 222);
      }
    </style>
    <script type="module">
      // Firebase SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
      import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
      import {
        collection,
        addDoc,
      } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
      import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
      import {
        doc,
        deleteDoc,
        orderBy,
        query,
      } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyBxkEL7CCF9LuLAguqvhE8aV-nkZQBXyrk",
        sauthDomain: "miniproject-8259a.firebaseapp.com",
        projectId: "miniproject-8259a",
        storageBucket: "miniproject-8259a.appspot.com",
        messagingSenderId: "196534650912",
        appId: "1:196534650912:web:d1588f18793d1476e55445",
        measurementId: "G-WLC85CK102",
      };

      // Firebase ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      $("#profilbox_1").hide(); // ì²˜ìŒ ê°œì¸ í”„ë¡œí•„ ìˆ¨ê¸°ê¸°
      $("#profilbox_2").hide();
      $("#profilbox_3").hide();
      $("#profilbox_4").hide();
      $("#profilbox_5").hide();

      $("#btn1").click(async function () {
        $("#profilbox_2").hide();
        $("#profilbox_3").hide();
        $("#profilbox_4").hide();
        $("#profilbox_5").hide();
        $("#profilbox_1").slideToggle();
      });

      $("#btn2").click(async function () {
        $("#profilbox_1").hide();
        $("#profilbox_3").hide();
        $("#profilbox_4").hide();
        $("#profilbox_5").hide();
        $("#profilbox_2").slideToggle();
      });

      $("#btn3").click(async function () {
        $("#profilbox_1").hide();
        $("#profilbox_2").hide();
        $("#profilbox_4").hide();
        $("#profilbox_5").hide();
        $("#profilbox_3").slideToggle();
      });

      $("#btn4").click(async function () {
        $("#profilbox_1").hide();
        $("#profilbox_2").hide();
        $("#profilbox_3").hide();
        $("#profilbox_5").hide();
        $("#profilbox_4").slideToggle();
      });

      $("#btn5").click(async function () {
        $("#profilbox_1").hide();
        $("#profilbox_2").hide();
        $("#profilbox_3").hide();
        $("#profilbox_4").hide();
        $("#profilbox_5").slideToggle();
      });

      $("#probtn1").click(async function () {
        $("#profilbox_1").slideToggle();
      });

      $("#probtn2").click(async function () {
        $("#profilbox_2").slideToggle();
      });

      $("#probtn3").click(async function () {
        $("#profilbox_3").slideToggle();
      });

      $("#probtn4").click(async function () {
        $("#profilbox_4").slideToggle();
      });

      $("#probtn5").click(async function () {
        $("#profilbox_5").slideToggle();
      });

      //TMIë¡œê·¸
      $(document).ready(async function () {
        $("#tmibtn").click(async function () {
          let name = $("#name").val();
          let tmi = $("#tmi").val();

          let doc = {
            name: name, //í•„ë“œ:ë³€ìˆ˜
            tmi: tmi,
            timestamp: new Date(),
          };
          await addDoc(collection(db, "miniproject"), doc);
          alert("ì €ì¥ì™„ë£Œ!");
          window, location.reload();
        });

        let bo = (collection(db, "miniproject"))
        let docs = await getDocs(query(bo, orderBy("timestamp", "desc")));
        docs.forEach((doc) => {
          let row = doc.data();
          console.log(row);
          console.log(row);
          console.log(doc.id);
          let name = row["name"];
          let tmi = row["tmi"];
          let time = row["timestamp"].toDate(); //row[rowì˜ í•„ë“œê°’]
          console.log(time);
          let year = time.getFullYear();
          let month = time.getMonth() + 1; //ctrl+d ë“œë˜ê·¸ ë°˜ë³µë˜ëŠ” ì—¬ë ¤ê°œ ë°”ê¾¸ê¸°
          let day = time.getDate();

          let temp_html = `
            <div class="card-body">
                <blockquote class="blockquote mb-0">
                    <footer class="blockquote-footer">${name}<span> :  </span><cite title="Source Title">${tmi} ${year}-${month}-${day}</cite></footer>
                    <button id="trash"><i id="${doc.id}" class="fas fa-trash"></i></button>

                </blockquote>
            </div>`;
          $("#log").append(temp_html);
        });

        $(document).on("click", ".fa-trash", async function () {
          let docId = $(this).attr("id") || "-";
          await deleteDoc(doc(db, "miniproject", docId));
          $(this).parent().parent().parent().empty();
        });
      });
    </script>
  </head>

  <body>
    <div class="whtpaper">
      <div class="yelpaper">
        <div class="main">
          <div id="teamname_id" class="title">
            <h1>ë¹¨ë¦¬ ì¹œí•´ì§€ê¸¸ ë°”ë˜~ğŸŒ¼</h1>
          </div>
        </div>
        <div class="anchor">
          <div id="list-example" class="list-group">
            <a
              class="list-group-item list-group-item-action list-group-item-warning"
              href="#teamname_id"
              style="color: black"
              >íŒ€ ì†Œê°œ</a
            >
            <a
              class="list-group-item list-group-item-action list-group-item-warning"
              href="#mycards_id"
              style="color: black"
              >ê°œì¸ í”„ë¡œí•„</a
            >
            <a
              class="list-group-item list-group-item-action list-group-item-warning"
              href="#namebox"
              style="color: black"
              >ì˜¤ëŠ˜ì˜ TMI</a
            >
          </div>
        </div>
        <div>
          <div class="content">
            <img
              class="img"
              src="https://raw.githubusercontent.com/leegilhyeon/miniproject/8999c9ba6bcd3feb4df76fce63152a3c59a6ef4b/ddd.jpg"
              alt=""
            />

            <span class="teamname" style="text-align: left">
              <h2 class="simoo">Team. ì‹œë¬´11ì¡°</h2>
              <li>íŒ€ ì†Œê°œ: ì„ íƒì  ì¹¨ë¬µí•˜ëŠ” I 5ëª…</li>
              <li>íŒ€ ëª©í‘œ: í¬ê¸°í•˜ì§€ë§ê³  ëê¹Œì§€ ìˆ˜ë£Œí•˜ê¸°</li>
              <li>
                íŒ€ ì•½ì†: 09:10 ì˜¤ëŠ˜ í•™ìŠµê³„íš ê³µìœ í•˜ê¸°
                <p class="out">20:30 ì˜¤ëŠ˜ í•™ìŠµë‚´ìš© ê³µìœ í•˜ê¸°</p>
              </li>
              <h3 id="mycards_id" class="rules">íŒ€ ê·œì¹™</h3>
              <li>ëŒ€ë‹µ ê¼­í•˜ê¸°</li>
              <li>ë§‰íˆëŠ” ë¶€ë¶„ ìˆë‹¤ë©´ ë¬¼ì–´ë³´ê¸°</li>
            </span>

            <div class="blog" role="group" aria-label="Vertical button group">
              <button
                onclick="window.open('https://blog.naver.com/gil_h')"
                type="button"
                class="list-group-item list-group-item-action list-group-item-warning"
                style="color: black"
              >
                ê¸¸í˜„ë‹˜ ë¸”ë¡œê·¸ êµ¬ê²½í•˜ê¸°
              </button>
              <button
                onclick="window.open('https://psy8937.tistory.com')"
                type="button"
                class="list-group-item list-group-item-action list-group-item-warning"
                style="color: black"
              >
                ìŠ¹ì—½ë‹˜ ë¸”ë¡œê·¸ êµ¬ê²½í•˜ê¸°
              </button>
              <button
                onclick="window.open('https://blog.naver.com/budubu_')"
                type="button"
                class="list-group-item list-group-item-action list-group-item-warning"
                style="color: black"
              >
                ê·œë¯¼ë‹˜ ë¸”ë¡œê·¸ êµ¬ê²½í•˜ê¸°
              </button>
              <button
                onclick="window.open('https://benefrihw.tistory.com')"
                type="button"
                class="list-group-item list-group-item-action list-group-item-warning"
                style="color: black"
              >
                í˜„ìš°ë‹˜ ë¸”ë¡œê·¸ êµ¬ê²½í•˜ê¸°
              </button>
              <button
                onclick="window.open('https://blog.naver.com/kcart2')"
                type="button"
                class="list-group-item list-group-item-action list-group-item-warning"
                style="color: black"
              >
                ë‚¨ì›…ë‹˜ ë¸”ë¡œê·¸ êµ¬ê²½í•˜ê¸°
              </button>
            </div>
          </div>
        </div>

        <div class="mycards" style="text-align: center">
          <div id="card" class="row row-cols-1 row-cols-md-5 g-5">
            <div class="col" style="width: 18rem">
              <div class="card h-100">
                <img
                  src="https://github.com/leegilhyeon/miniproject/blob/main/%EC%9D%B4%EA%B8%B8%ED%98%84%20%ED%94%84%EB%A1%9C%ED%95%84.png?raw=true"
                  width="238"
                  height="238"
                  class="card-img-top"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title">ì´ê¸¸í˜„</h5>
                  <p class="card-text">ISFP</p>
                  <button id="btn1" type="button" class="btn btn-primary">
                    ìƒì„¸ë³´ê¸°
                  </button>
                </div>
              </div>
            </div>
            <div class="col" style="width: 18rem">
              <div class="card h-100">
                <img
                  src="https://github.com/leegilhyeon/miniproject/blob/main/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-04-17%20103120.png?raw=true"
                  width="238"
                  height="238"
                  class="card-img-top"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title">ë°•ìŠ¹ì—½</h5>
                  <p class="card-text">ISFP</p>
                  <button id="btn2" type="button" class="btn btn-primary">
                    ìƒì„¸ë³´ê¸°
                  </button>
                </div>
              </div>
            </div>
            <div class="col" style="width: 18rem">
              <div class="card h-100">
                <img
                  src="https://github.com/leegilhyeon/miniproject/blob/main/%EC%A1%B0%EA%B7%9C%EB%AF%BC%20%ED%94%84%EB%A1%9C%ED%95%84.png?raw=true"
                  width="238"
                  height="238"
                  class="card-img-top"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title">ì¡°ê·œë¯¼</h5>
                  <p class="card-text">INFJ</p>
                  <div>
                    <button id="btn3" type="button" class="btn btn-primary">
                      ìƒì„¸ë³´ê¸°
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col" style="width: 18rem">
              <div class="card h-100">
                <img
                  src="https://github.com/leegilhyeon/miniproject/blob/main/%EC%9D%B4%ED%98%84%EC%9A%B0%20%ED%94%84%EB%A1%9C%ED%95%84.png?raw=true"
                  width="238"
                  height="238"
                  class="card-img-top"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title">ì´í˜„ìš°</h5>
                  <p class="card-text">ISFJ</p>
                  <button id="btn4" type="button" class="btn btn-primary">
                    ìƒì„¸ë³´ê¸°
                  </button>
                </div>
              </div>
            </div>
            <div class="col" style="width: 18rem">
              <div class="card h-100">
                <img
                  src="https://github.com/leegilhyeon/miniproject/blob/main/%ED%99%A9%EB%82%A8%EC%9B%85%20%ED%94%84%EB%A1%9C%ED%95%84.png?raw=true"
                  width="238"
                  height="238"
                  class="card-img-top"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title">í™©ë‚¨ì›…</h5>
                  <p class="card-text">INTJ</p>
                  <button id="btn5" type="button" class="btn btn-primary">
                    ìƒì„¸ë³´ê¸°
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="profil">
          <div id="profilbox_1" class="myprofilbox_1">
            <button
              id="probtn1"
              class="proclose"
              type="button"
              style="position: relative; left: 500px; top: 284px"
            >
              ë‹«ê¸°
            </button>
          </div>
          <div id="profilbox_2" class="myprofilbox_2">
            <div>
              <button
                id="probtn2"
                class="proclose"
                type="button"
                style="position: relative; left: 500px; top: 290px"
              >
                ë‹«ê¸°
              </button>
            </div>
          </div>
          <div id="profilbox_3" class="myprofilbox_3">
            <div>
              <button id="probtn3" class="proclose" type="button">ë‹«ê¸°</button>
            </div>
          </div>
          <div id="profilbox_4" class="myprofilbox_4">
            <div>
              <button id="probtn4" class="proclose" type="button">ë‹«ê¸°</button>
            </div>
          </div>
          <div id="profilbox_5" class="myprofilbox_5">
            <div>
              <button id="probtn5" class="proclose" type="button">ë‹«ê¸°</button>
            </div>
          </div>
        </div>

        <div class="tmibox">
          <div class="mytitle">
            <h1>* ì¹œí•´ì ¸ìš” ìš°ë¦¬ *</h1>
          </div>

          <div id="namebox" class="namebox">
            <div class="card-header"></div>

            <div id="" class="">
              <div class="card-write">
                <div class="input-group mb-3">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="ë‹‰ë„¤ì„"
                    aria-label="Recipient's username"
                    aria-describedby="button-addon2"
                    id="name"
                  />
                  <input
                    type="text"
                    class="form-control"
                    placeholder="ì˜¤ëŠ˜ì˜ TMI"
                    aria-label="Recipient's username"
                    aria-describedby="button-addon2"
                    id="tmi"
                  />
                  <button
                    class="btn btn-outline-secondary"
                    type="button"
                    id="tmibtn"
                  >
                    ì‘ì„±
                  </button>
                </div>
              </div>
            </div>
            <div id="log" class="card-body2"></div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
